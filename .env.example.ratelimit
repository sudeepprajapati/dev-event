# ===========================================
# RATE LIMITING CONFIGURATION
# ===========================================

# Upstash Redis Configuration (Required for production)
# Get these from https://console.upstash.com/
REDIS_REST_URL=https://your-redis-instance.upstash.io
REDIS_REST_TOKEN=your-redis-token-here

# Alternative: You can use these variable names too
# UPSTASH_REDIS_REST_URL=https://your-redis-instance.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your-redis-token-here


# ===========================================
# AUTH ENDPOINT RATE LIMITS
# Protects against brute-force attacks on signup/signin
# ===========================================

# Max 5 requests per 60 seconds per IP
RATE_LIMIT_AUTH=5
RATE_LIMIT_AUTH_WINDOW=60


# ===========================================
# PUBLIC API RATE LIMITS
# Protects public endpoints from abuse/scraping
# ===========================================

# Max 100 requests per 60 seconds per IP
RATE_LIMIT_PUBLIC_API=100
RATE_LIMIT_PUBLIC_API_WINDOW=60


# ===========================================
# PAYMENT/BOOKING RATE LIMITS
# Protects payment endpoints from abuse
# ===========================================

# Max 10 requests per 60 seconds per USER (not IP)
RATE_LIMIT_PAYMENT=10
RATE_LIMIT_PAYMENT_WINDOW=60


# ===========================================
# EVENT CREATION RATE LIMITS
# Prevents spam event creation
# ===========================================

# Max 5 events per 5 minutes per USER
RATE_LIMIT_CREATE_EVENT=5
RATE_LIMIT_CREATE_EVENT_WINDOW=300


# ===========================================
# ADMIN ENDPOINT RATE LIMITS
# Protects admin operations
# ===========================================

# Max 50 requests per 60 seconds per USER
RATE_LIMIT_ADMIN=50
RATE_LIMIT_ADMIN_WINDOW=60


# ===========================================
# DEVELOPMENT NOTES
# ===========================================

# If REDIS_REST_URL and REDIS_REST_TOKEN are not set:
# - Rate limiting will use in-memory fallback
# - WARNING: Not production-safe (resets on server restart)
# - Suitable only for local development
# - Each serverless instance maintains its own counters

# Production deployment MUST have Redis configured
# for distributed rate limiting to work correctly.
